# Generated by Django 5.2.7 on 2025-10-18 09:35

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("defendants", "0002_initial"),
        ("police", "0002_initial"),
        ("submissions", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="additionalinvoicefee",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="additionalinvoicefee",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="additionalinvoicefee",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="botanicalassessment",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="botanicalassessment",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="botanicalassessment",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="certificate",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="certificate",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="certificate",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="drugbag",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="drugbag",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="drugbag",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="botanicalassessment",
            name="drug_bag",
            field=models.OneToOneField(
                help_text="The drug bag being assessed",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="assessment",
                to="submissions.drugbag",
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="approved_botanist",
            field=models.ForeignKey(
                blank=True,
                help_text="The approved botanist handling this submission",
                limit_choices_to={"role": "botanist"},
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="botanist_submissions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="defendants",
            field=models.ManyToManyField(
                blank=True,
                help_text="Defendants involved in this case",
                related_name="submissions",
                to="defendants.defendant",
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="finance_officer",
            field=models.ForeignKey(
                blank=True,
                help_text="The finance officer handling this submission",
                limit_choices_to={"role": "finance"},
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="finance_submissions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="requesting_officer",
            field=models.ForeignKey(
                blank=True,
                help_text="The original officer requesting the submission",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submissions_requested",
                to="police.policeofficer",
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="station",
            field=models.ForeignKey(
                blank=True,
                help_text="The station submission is for",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submission_involvement",
                to="police.policestation",
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="submitting_officer",
            field=models.ForeignKey(
                blank=True,
                help_text="The officer submitting on behalf of requesting officer",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submissions_made",
                to="police.policeofficer",
            ),
        ),
        migrations.AddField(
            model_name="submission",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="invoice",
            name="submission",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="invoices",
                to="submissions.submission",
            ),
        ),
        migrations.AddField(
            model_name="drugbag",
            name="submission",
            field=models.ForeignKey(
                help_text="The submission this bag belongs to",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="bags",
                to="submissions.submission",
            ),
        ),
        migrations.AddField(
            model_name="certificate",
            name="submission",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="certificates",
                to="submissions.submission",
            ),
        ),
        migrations.AddField(
            model_name="additionalinvoicefee",
            name="submission",
            field=models.ForeignKey(
                help_text="The submission this fee relates to",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="additional_fees",
                to="submissions.submission",
            ),
        ),
        migrations.AddField(
            model_name="submissionphasehistory",
            name="created_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submissionphasehistory",
            name="deleted_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submissionphasehistory",
            name="submission",
            field=models.ForeignKey(
                help_text="The submission this history entry belongs to",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="phase_history",
                to="submissions.submission",
            ),
        ),
        migrations.AddField(
            model_name="submissionphasehistory",
            name="updated_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="submissionphasehistory",
            name="user",
            field=models.ForeignKey(
                help_text="User who performed this action",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submission_phase_actions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddIndex(
            model_name="invoice",
            index=models.Index(
                fields=["submission", "-created_at"],
                name="submissions_submiss_e25547_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="invoice",
            index=models.Index(
                fields=["invoice_number"], name="submissions_invoice_6ebba8_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="drugbag",
            unique_together={("submission", "seal_tag_numbers")},
        ),
        migrations.AddIndex(
            model_name="certificate",
            index=models.Index(
                fields=["submission", "-created_at"],
                name="submissions_submiss_9eba8e_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="certificate",
            index=models.Index(
                fields=["certificate_number"], name="submissions_certifi_ce83ea_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="submissionphasehistory",
            index=models.Index(
                fields=["submission", "-timestamp"],
                name="submissions_submiss_5dfe1c_idx",
            ),
        ),
    ]
